# AI Japanese Input Method (AI 日语输入法)

AI 驱动的实时日语语音输入与翻译工具，专为日语学习者和工作者设计。

## ✨ 核心特性

- **高精度语音识别**: 使用阿里达摩院 SenseVoice 模型，支持中/日/英/韩/粤语混合识别。
- **离线神经机器翻译**: 集成 Meta NLLB 模型 (600M/1.2B)，提供高质量的离线中日翻译。
- **极速响应**: 本地推理，低延迟，保护隐私。
- **全局快捷键**: 
    - `Ctrl + Win`: 按住说话 (语音输入)
    - `Alt + Win`: 显示/隐藏悬浮窗
- **智能排版**: 自动清理语音识别结果，智能添加标点。
- **UI 美化**: 现代化的深色/浅色主题，Fluent Design 风格。

## 🚀 快速开始

1. **下载**: 从 Release 页面下载 `AI_JP_Input.exe`。
2. **安装**: 无需安装，直接运行。
3. **初始化**: 首次运行时会自动弹出设置向导，引导您下载必要的语音模型 (SenseVoice, 约156MB)。
4. **使用**: 
    - 按住 `Ctrl + Win` 对着麦克风说话。
    - 松开按键，文字将自动上屏到当前活动窗口。
    - 使用 `Alt + Win` 呼出悬浮窗进行更多设置或文本翻译。

## ⚙️ 模型说明

- **ASR 模型 (必需)**: SenseVoice ONNX (156MB)。首次启动必选下载。
- **翻译模型 (可选)**: 
    - **Google 在线翻译**: 默认使用，无需下载。
    - **NLLB 600M**: 推荐本地部署，速度快 (需手动下载模型包)。
    - **NLLB 1.2B**: 更高质量，但占用更多资源。

## 🛠️ 构建指南 (开发者)

如果需要从源码构建：

```bash
# 安装依赖
pip install -r requirements.txt

# 打包 EXE
python build_exe.py
```

## 📝 常见问题

- **Q: 为什么按快捷键没反应？**
  A: 请检查托盘图标是否在运行。如果是以管理员身份运行的目标程序（如游戏），请尝试以管理员身份运行本程序。

- **Q: NLLB 模型下载失败？**
  A: 目前 NLLB 模型需要手动下载并解压到 `models` 目录，或等待后续版本更新自动下载源。

## 📄 License

MIT License
